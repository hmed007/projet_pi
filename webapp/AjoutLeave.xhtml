<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/template/template.xhtml">

	<ui:define name="pageTitle">
				HOME PAGE
			</ui:define>
	<ui:define name="pageContent">


		<div class="centredZone">
			<br />
			<h2>HOME</h2>
			<br /> <br />
<h:form  id="form">

        
        
        <p:calendar id="button2" value="#{LeaveBean.dateFin}" mindate="today" showOn="button" />
        <p:calendar id="button1" value="#{LeaveBean.dateDebut}"  mindate="today" showOn="button" />
        
             
   			 <p:selectOneMenu  value="#{LeaveBean.typeLeave}" >
    		    <f:selectItem itemLabel="Maternity" itemValue="0" />
  			      <f:selectItem itemLabel="Vacation" itemValue="1" />
    		    <f:selectItem itemLabel="Disease" itemValue="2" />
  		  </p:selectOneMenu>
          <p:selectOneMenu id="console" value="#{LeaveBean.ressourceId}" filterMatchMode="contains" filter="true" style="width:125px">
   			<f:selectItems  value="#{LeaveBean.listAll}" var="Ressource" itemValue="#{Ressource.id}" itemLabel="#{Ressource.first_name}"></f:selectItems>
        </p:selectOneMenu>
        
                 <p:commandButton value="Ajouter" id="nonAjax" action="#{LeaveBean.ajouterLeave()}" style="margin-right:20px;" ajax="false" />
        
</h:form>

<h:form>
<p:dataTable var="leave" value="#{LeaveBean.listLeave}">
  
 
    <p:column headerText="date debut">
        <h:outputText value="#{leave.start_date}" />
    </p:column>
 
    <p:column headerText="date fin">
        <h:outputText value="#{leave.d_date}" />
    </p:column>
    <p:column headerText="ressource name">
        <h:outputText value="#{leave.ressource.first_name}" />
    </p:column>
    <p:column headerText="Type Leave">
        <h:outputText value="#{leave.type_leave}" />
    </p:column>
    <p:column headerText="Supprimer">
            <p:commandButton value="Supprimer" id="nonAjax" action="#{LeaveBean.supprimer(leave.leaveId)}" style="margin-right:20px;" ajax="false" />
    </p:column>    
       <p:column headerText="Modifier">
            <p:commandButton value="Modifier"  action="#{LeaveBean.modify(leave.leaveId)}" style="margin-right:20px;" ajax="false" />
    </p:column>    
    
   </p:dataTable>
</h:form>
		</div>

	</ui:define>



</ui:composition>